document.addEventListener('DOMContentLoaded', () => {
    // --- Custom Cursor ---
    const cursor = document.querySelector('.cursor');
    const follower = document.querySelector('.cursor-follower');

    if (cursor && follower) {
        document.body.style.cursor = 'none'; // Hide default cursor

        document.addEventListener('mousemove', e => {
            cursor.style.display = 'block';
            follower.style.display = 'block';
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            follower.style.left = e.clientX + 'px';
            follower.style.top = e.clientY + 'px';
        });

        document.addEventListener('mouseleave', () => {
            cursor.style.display = 'none';
            follower.style.display = 'none';
        });

        // Enlarge cursor on hover over interactive elements
        const interactiveElements = document.querySelectorAll('a, button, .btn, .portfolio-item, .service-card, .contact-method');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
                follower.style.transform = 'translate(-50%, -50%) scale(0.5)';
            });
            el.addEventListener('mouseleave', () => {
                cursor.style.transform = 'translate(-50%, -50%) scale(1)';
                follower.style.transform = 'translate(-50%, -50%) scale(1)';
            });
        });
    }

    // --- Navigation Bar Scroll Effect ---
    const nav = document.querySelector('nav');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            nav.style.background = 'rgba(0, 0, 0, 0.95)';
        } else {
            nav.style.background = 'rgba(0, 0, 0, 0.8)';
        }
    });

    // --- Smooth Scrolling for Navigation Links ---
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
            // Close mobile menu if open
            const navLinks = document.querySelector('.nav-links');
            if (navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
                document.querySelector('.burger-menu').classList.remove('open');
            }
        });
    });

    // --- Fade-in Animation on Scroll ---
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
    });

    // --- Button Click Animation ---
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('click', function(e) {
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    });

    // --- Typewriter Effect for Hero Title ---
    const typewriterElement = document.querySelector('.typewriter');
    const textToType = "Minecraft –°–µ—Ä–≤–µ—Ä–æ–≤";
    let charIndex = 0;
    let isDeleting = false;
    let typingSpeed = 100;

    function typeWriter() {
        if (!isDeleting && charIndex < textToType.length) {
            // Adding characters
            typewriterElement.textContent += textToType.charAt(charIndex);
            charIndex++;
            typingSpeed = 100; // Speed for typing
        } else if (isDeleting && charIndex > 0) {
            // Deleting characters
            typewriterElement.textContent = textToType.substring(0, charIndex - 1);
            charIndex--;
            typingSpeed = 50; // Speed for deleting
        } else if (!isDeleting && charIndex === textToType.length) {
            // Finished typing, pause before deleting
            isDeleting = true;
            typingSpeed = 2000; // Pause before starting to delete
        } else if (isDeleting && charIndex === 0) {
            // Finished deleting, pause before typing again
            isDeleting = false;
            typingSpeed = 1000; // Pause before starting to type
        }

        setTimeout(typeWriter, typingSpeed);
    }

    // Start typing after a short delay
    setTimeout(typeWriter, 1000);

    // --- Portfolio Modal Logic ---
    const portfolioItems = document.querySelectorAll('.portfolio-item');
    const modal = document.getElementById('portfolio-modal');
    const closeModalBtn = document.querySelector('.close-button');
    const modalTitle = document.getElementById('modal-title');
    const modalGallery = document.querySelector('.modal-gallery');
    const modalDescription = document.getElementById('modal-description');
    const modalDetails = document.getElementById('modal-details');
    const modalLink = document.getElementById('modal-link');

    const projectsData = {
        "mine-world": {
            title: "üéÆ MineWorld Network",
            description: "–ö—Ä—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å 500+ –∏–≥—Ä–æ–∫–æ–≤. –ü–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫. –ó–∞–¥–∞—á–∞: –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∏ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —É–≥—Ä–æ–∑. –†–µ—à–µ–Ω–∏–µ: –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∑–∞—â–∏—Ç—ã, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞ –∏ –ø–ª–∞–≥–∏–Ω–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π TPS 19.8+, 99.9% –∞–ø—Ç–∞–π–º, –ø–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ DDoS-–∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.",
            details: [
                "**–†–æ–ª—å:** –ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                "**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** PaperMC, BungeeCord, Nginx, Cloudflare, Custom Anti-DDoS, MySQL, Redis",
                "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω, –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞"
            ],
            images: [
                "https://via.placeholder.com/300x200?text=MineWorld+Screenshot+1",
                "https://via.placeholder.com/300x200?text=MineWorld+Screenshot+2",
                "https://via.placeholder.com/300x200?text=MineWorld+Screenshot+3"
            ],
            link: "#" // Replace with actual project link if available
        },
        "kingdom-craft": {
            title: "üè∞ KingdomCraft",
            description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ –≥–∏–ª—å–¥–∏–π —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–º–µ—Å–µ–ª –∏ —ç–∫–æ–Ω–æ–º–∏–∫–æ–π. –ó–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –≥–ª—É–±–æ–∫—É—é —Å–∏—Å—Ç–µ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫—É —Å–µ—Ä–≤–µ—Ä–∞. –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –Ω–∞ Java —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spigot API, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vault –∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. –†–µ–∑—É–ª—å—Ç–∞—Ç: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≥–µ–π–º–ø–ª–µ–π, –ø–æ–≤—ã—à–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞.",
            details: [
                "**–†–æ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–ª–∞–≥–∏–Ω–æ–≤",
                "**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Java, Spigot API, MySQL, Vault API",
                "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–∏–ª—å–¥–∏–π, –ø–æ–≤—ã—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤"
            ],
            images: [
                "https://via.placeholder.com/300x200?text=KingdomCraft+Screenshot+1",
                "https://via.placeholder.com/300x200?text=KingdomCraft+Screenshot+2"
            ],
            link: "#"
        },
        "pvp-arena": {
            title: "‚öîÔ∏è PvP Arena",
            description: "–°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã PvP —Ç—É—Ä–Ω–∏—Ä–æ–≤ —Å –ø—Ä–∏–∑–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–º. –ó–∞–¥–∞—á–∞: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞–º –¥–∏–Ω–∞–º–∏—á–Ω—ã–π –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π PvP-–æ–ø—ã—Ç. –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∞—Ä–µ–Ω—ã, –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥. –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã, –∞–∫—Ç–∏–≤–Ω–æ–µ PvP-—Å–æ–æ–±—â–µ—Å—Ç–≤–æ, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞.",
            details: [
                "**–†–æ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –Ω–∞—Å—Ç—Ä–æ–π—â–∏–∫",
                "**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Spigot, Custom Plugins, MySQL",
                "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ PvP-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π"
            ],
            images: [
                "https://via.placeholder.com/300x200?text=PvP+Arena+Screenshot+1",
                "https://via.placeholder.com/300x200?text=PvP+Arena+Screenshot+2"
            ],
            link: "#"
        },
        "skyblock-universe": {
            title: "üåç SkyBlock Universe",
            description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–ø–∞–∫–∞ –¥–ª—è SkyBlock —Å 50+ –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏. –ó–∞–¥–∞—á–∞: –æ–±–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π SkyBlock, –¥–æ–±–∞–≤–∏–≤ –≥–ª—É–±–∏–Ω—ã –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è. –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤, –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–±–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥–∞–º–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–≤–µ–∂–∏–π –≤–∑–≥–ª—è–¥ –Ω–∞ SkyBlock, —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤, –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è.",
            details: [
                "**–†–æ–ª—å:** –ú–æ–¥–ø–∞–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –≥–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä",
                "**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Forge/Fabric, Custom Items/Blocks, Data Packs",
                "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π SkyBlock –æ–ø—ã—Ç, –≤—ã—Å–æ–∫–∞—è —Ä–µ–∏–≥—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç—å"
            ],
            images: [
                "https://via.placeholder.com/300x200?text=SkyBlock+Screenshot+1",
                "https://via.placeholder.com/300x200?text=SkyBlock+Screenshot+2",
                "https://via.placeholder.com/300x200?text=SkyBlock+Screenshot+3"
            ],
            link: "#"
        },
        "custom-minigame": {
            title: "üöÄ Custom Minigame",
            description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –º–∏–Ω–∏-–∏–≥—Ä—ã —Å –Ω—É–ª—è, –≤–∫–ª—é—á–∞—è –ª–æ–≥–∏–∫—É, –∫–∞—Ä—Ç—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–µ—Ä–≤–µ—Ä–∞. –ó–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –Ω–æ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –†–µ—à–µ–Ω–∏–µ: –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–æ —Ä–µ–ª–∏–∑–∞, –≤–∫–ª—é—á–∞—è –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –º–∏–Ω–∏-–∏–≥—Ä–∞, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω–∞, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã –∏–≥—Ä–æ–∫–æ–≤.",
            details: [
                "**–†–æ–ª—å:** –í–µ–¥—É—â–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–∏–Ω–∏-–∏–≥—Ä—ã",
                "**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Spigot API, Java, WorldEdit, Custom Maps",
                "**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ä–µ–∂–∏–º, —Ä–æ—Å—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏"
            ],
            images: [
                "https://via.placeholder.com/300x200?text=Minigame+Screenshot+1",
                "https://via.placeholder.com/300x200?text=Minigame+Screenshot+2",
                "https://via.placeholder.com/300x200?text=Minigame+Screenshot+3"
            ],
            link: "#"
        }
    };

    portfolioItems.forEach(item => {
        item.addEventListener('click', () => {
            const projectId = item.dataset.project;
            const project = projectsData[projectId];

            if (project) {
                modalTitle.textContent = project.title;
                modalDescription.textContent = project.description;
                
                modalGallery.innerHTML = ''; // Clear previous images
                project.images.forEach(src => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = project.title;
                    modalGallery.appendChild(img);
                });

                modalDetails.innerHTML = ''; // Clear previous details
                project.details.forEach(detail => {
                    const li = document.createElement('li');
                    li.innerHTML = detail; // Use innerHTML to parse strong tags
                    modalDetails.appendChild(li);
                });

                if (project.link && project.link !== '#') {
                    modalLink.href = project.link;
                    modalLink.style.display = 'inline-block';
                } else {
                    modalLink.style.display = 'none';
                }

                modal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling background
            }
        });
    });

    closeModalBtn.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto'; // Restore scrolling
    });

    window.addEventListener('click', (event) => {
        if (event.target == modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    });

    // --- Testimonials Display (removed carousel functionality) ---
    // All testimonials are now displayed in a grid layout

    // --- Scroll to Contact Function (for "–û–±—Å—É–¥–∏—Ç—å" buttons) ---
    window.scrollToContact = function() {
        document.getElementById('contact').scrollIntoView({ 
            behavior: 'smooth' 
        });
        modal.style.display = 'none'; // Close modal if open
        document.body.style.overflow = 'auto'; // Restore scrolling
    };

    // --- Burger Menu for Mobile ---
    const burgerMenu = document.querySelector('.burger-menu');
    const navLinks = document.querySelector('.nav-links');

    burgerMenu.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        burgerMenu.classList.toggle('open');
    });

    // Close menu when clicking outside (optional, but good UX)
    document.addEventListener('click', (event) => {
        if (!nav.contains(event.target) && !burgerMenu.contains(event.target)) {
            navLinks.classList.remove('active');
            burgerMenu.classList.remove('open');
        }
    });

    // --- Copy buttons functionality ---
    const copyButtons = document.querySelectorAll('.copy-button');
    
    copyButtons.forEach(button => {
        button.addEventListener('click', function() {
            const textToCopy = this.getAttribute('data-copy');
            navigator.clipboard.writeText(textToCopy).then(() => {
                // Create temporary notification
                const notification = document.createElement('div');
                notification.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                notification.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: var(--primary);
                    color: var(--dark);
                    padding: 10px 20px;
                    border-radius: 5px;
                    z-index: 1000;
                    font-weight: bold;
                    animation: fadeInOut 2s ease;
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 2000);
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é: ' + textToCopy);
            });
        });
    });

    // --- Custom Logic for Service Buttons ---
    const serviceDiscussButtons = document.querySelectorAll('.service-card .btn-secondary');
    const telegramLink = 'https://t.me/mintyfoxz'; // –í–∞—à Telegram

    serviceDiscussButtons.forEach(button => {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –Ω–µ –∫–Ω–æ–ø–∫–∞ "–ó–∞–∫–∞–∑–∞—Ç—å –∑–∞ 500‚ÇΩ", –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –∏–º–µ–µ—Ç href
        if (!button.href) { 
            button.addEventListener('click', () => {
                window.open(telegramLink, '_blank');
            });
        }
    });

    // --- Minecraft Server Invitation Popup ---
    // Show the popup when the page loads
    window.addEventListener('load', () => {
        const popup = document.getElementById('minecraft-popup');
        if (popup) {
            // Check if user has already closed the popup in this session
            if (!sessionStorage.getItem('minecraftPopupClosed')) {
                setTimeout(() => {
                    popup.style.display = 'block';
                    document.body.style.overflow = 'hidden'; // Prevent scrolling background
                }, 1000); // Show after 1 second
            }
        }
    });

    // Close popup when clicking the close button
    const closePopupButton = document.getElementById('close-popup-btn');
    if (closePopupButton) {
        closePopupButton.addEventListener('click', () => {
            const popup = document.getElementById('minecraft-popup');
            if (popup) {
                popup.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restore scrolling
                // Remember that the user closed the popup in this session
                sessionStorage.setItem('minecraftPopupClosed', 'true');
            }
        });
    }

    // Close popup when clicking the X button
    const closePopupX = document.querySelector('.close-popup');
    if (closePopupX) {
        closePopupX.addEventListener('click', () => {
            const popup = document.getElementById('minecraft-popup');
            if (popup) {
                popup.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restore scrolling
                // Remember that the user closed the popup in this session
                sessionStorage.setItem('minecraftPopupClosed', 'true');
            }
        });
    }

    // Close popup when clicking outside the content
    const popup = document.getElementById('minecraft-popup');
    if (popup) {
        popup.addEventListener('click', (event) => {
            if (event.target === popup) {
                popup.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restore scrolling
                // Remember that the user closed the popup in this session
                sessionStorage.setItem('minecraftPopupClosed', 'true');
            }
        });
    }
});

